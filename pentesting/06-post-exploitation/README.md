# 06. Post-Exploitation

## Overview

Post-exploitation involves activities performed after gaining initial access to a system, including maintaining access, lateral movement, and data exfiltration.

## Maintaining Access

### Backdoors
- Persistent access mechanisms
- Remote access tools
- Hidden access methods

### Rootkits
- System-level hiding
- Process hiding
- File hiding

### Persistence Mechanisms

#### Windows
- Scheduled tasks
- Startup programs
- Service installation
- Registry modifications

#### Linux
- Cron jobs
- Startup scripts
- Service installation
- SSH keys

## Lateral Movement

### Pass-the-Hash (PtH)
- NTLM hash reuse
- Authentication bypass
- No password needed

### Pass-the-Ticket (PtT)
- Kerberos ticket reuse
- Authentication bypass
- Ticket manipulation

### Kerberos Attacks
- Golden Ticket
- Silver Ticket
- Kerberoasting
- AS-REP Roasting

### Credential Dumping
- LSASS memory dumping
- SAM database extraction
- NTDS.dit extraction
- Mimikatz

### Lateral Movement Tools
- PsExec
- WMI
- PowerShell Remoting
- RDP
- SSH

## Data Exfiltration

### Data Collection
- Sensitive file identification
- Data classification
- Collection methods

### Covert Channels
- DNS tunneling
- ICMP tunneling
- HTTP/HTTPS tunneling
- Steganography

## Clearing Tracks

### Log Manipulation
- Event log clearing
- Log file deletion
- Log tampering

### File Deletion
- Secure deletion
- File wiping
- Evidence removal

### Anti-Forensics
- Timestamp manipulation
- File system cleaning
- Artifact removal

## Code Examples

### Python Examples
See the `examples/` directory for:
- `persistence_manager.py` - Manages persistence mechanisms (Windows/Linux)
- `lateral_movement.py` - Tools for lateral movement (SSH, WMI, Pass-the-Hash)

### Node.js Examples
See the `examples/nodejs/` directory for:
- `persistence_manager.js` - Persistence manager (Node.js)
- `lateral_movement.js` - Lateral movement tools (Node.js)

### Usage
```bash
# Python
python examples/persistence_manager.py scheduled_task TestTask calc.exe
python examples/lateral_movement.py ssh 192.168.1.100 user "whoami"

# Node.js
node examples/nodejs/persistence_manager.js scheduled_task TestTask calc.exe
node examples/nodejs/lateral_movement.js ssh 192.168.1.100 user "whoami"
```

---

**Previous**: [05. Exploitation](../05-exploitation)  
**Next**: [07. Web Application Security](../07-web-application-security)

