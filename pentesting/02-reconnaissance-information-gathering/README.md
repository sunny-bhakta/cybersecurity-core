# 02. Reconnaissance & Information Gathering

## Overview

Reconnaissance is the first phase of penetration testing, involving gathering information about the target system, network, or organization. This phase is critical as it provides the foundation for all subsequent testing activities.

## Passive Reconnaissance

Passive reconnaissance involves gathering information without directly interacting with the target system. This is legal and typically undetectable.

### OSINT (Open Source Intelligence)

OSINT involves collecting information from publicly available sources.

#### Google Dorking
Using advanced Google search operators to find sensitive information:
- `site:example.com filetype:pdf`
- `inurl:admin`
- `intitle:"index of"`

#### Social Media Intelligence
- LinkedIn company pages
- Employee profiles
- Technology stack mentions
- Job postings revealing infrastructure

#### WHOIS Lookups
- Domain registration information
- Registrar details
- Name servers
- Contact information

#### DNS Enumeration
- DNS record types (A, AAAA, MX, TXT, NS, CNAME)
- Subdomain discovery
- DNS zone transfers

#### Certificate Transparency Logs
- Discover subdomains from SSL certificates
- Certificate history
- Expired certificates

#### Shodan/Internet-wide Scanning
- Search engine for Internet-connected devices
- Service banners
- Open ports and services

#### Archive.org (Wayback Machine)
- Historical website snapshots
- Deleted content recovery
- Technology stack changes

#### GitHub/Code Repository Analysis
- Source code leaks
- API keys and credentials
- Internal documentation

### DNS Information Gathering

#### DNS Zone Transfers
Attempting to transfer entire DNS zones (AXFR requests)

#### DNS Record Enumeration
- A records (IPv4 addresses)
- AAAA records (IPv6 addresses)
- MX records (mail servers)
- TXT records (SPF, DKIM, etc.)
- NS records (name servers)
- CNAME records (aliases)

#### Subdomain Enumeration
- Dictionary-based brute forcing
- Certificate transparency
- DNS brute forcing
- Search engine queries

## Active Reconnaissance

Active reconnaissance involves directly interacting with target systems.

### Network Discovery
- Identifying live hosts
- Network topology mapping
- Device identification

### Service Identification
- Banner grabbing
- Service version detection
- Technology stack identification

### Web Application Fingerprinting
- HTTP headers analysis
- Error message analysis
- File and directory enumeration
- Framework detection

## Tools & Techniques

### Tools
- **nmap**: Network scanning and enumeration
- **theHarvester**: Email/subdomain/people enumeration
- **Recon-ng**: Web reconnaissance framework
- **Maltego**: Link analysis and data mining
- **Shodan**: Search engine for Internet-connected devices
- **Censys**: Internet-wide scanning
- **Amass**: Subdomain enumeration
- **Sublist3r**: Subdomain enumeration
- **DNSrecon**: DNS enumeration tool

## Code Examples

### Python Examples
See the `examples/` directory for:
- `dns_enumeration.py` - Comprehensive DNS enumeration tool
- `subdomain_discovery.py` - Subdomain discovery using multiple techniques

### Node.js Examples
See the `examples/nodejs/` directory for:
- `dns_enumeration.js` - DNS enumeration tool (Node.js)
- Additional Node.js utilities

### Usage
```bash
# Python
python examples/dns_enumeration.py example.com wordlist.txt
python examples/subdomain_discovery.py example.com

# Node.js
node examples/nodejs/dns_enumeration.js example.com wordlist.txt
```

## Best Practices

1. Start with passive reconnaissance
2. Use multiple sources for information gathering
3. Document all findings
4. Respect robots.txt and terms of service
5. Use proxies/VPNs when appropriate
6. Verify information from multiple sources
7. Organize findings systematically

## Legal Considerations

- Passive reconnaissance is generally legal
- Respect terms of service
- Don't access unauthorized systems
- Be aware of local laws regarding data collection

---

**Previous**: [01. Introduction & Fundamentals](../01-introduction-fundamentals)  
**Next**: [03. Scanning & Enumeration](../03-scanning-enumeration)

